<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>Akvo-notifications 0.3.0-SNAPSHOT API documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Akvo-notifications 0.3.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>akvo</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>notifications</span></div></div></li><li class="depth-3 branch"><a href="akvo.notifications.drafts.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>drafts</span></div></a></li><li class="depth-3 branch"><a href="akvo.notifications.events.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>events</span></div></a></li><li class="depth-3 branch"><a href="akvo.notifications.main.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>main</span></div></a></li><li class="depth-3 branch"><a href="akvo.notifications.store-mem.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>store-mem</span></div></a></li><li class="depth-3 branch"><a href="akvo.notifications.systems.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>systems</span></div></a></li><li class="depth-3 branch"><a href="akvo.notifications.utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>utils</span></div></a></li><li class="depth-3"><a href="akvo.notifications.web.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>web</span></div></a></li><li class="depth-1"><a href="user.html"><div class="inner"><span class="tree" style="top: -269px;"><span class="top" style="height: 278px;"></span><span class="bottom"></span></span><span>user</span></div></a></li></ul></div><div class="namespace-index" id="content"><h2>Akvo-notifications 0.3.0-SNAPSHOT</h2><div class="doc"><p>Akvo-notifications</p></div><div class="namespace"><h3><a href="akvo.notifications.drafts.html">akvo.notifications.drafts</a></h3><div class="doc"><pre class="plaintext">Component that handles drafts (raw messages that carry state from
services on the message queue. It&apos;s a queue before the actual queue
which once a common data store exists should be cut.</pre></div><div class="index"><p>Public variables and functions:</p><ul><li> <a href="akvo.notifications.drafts.html#var--.3EDrafts">-&gt;Drafts</a> </li><li> <a href="akvo.notifications.drafts.html#var-draft-.3Eevent">draft-&gt;event</a> </li><li> <a href="akvo.notifications.drafts.html#var-drafts">drafts</a> </li><li> <a href="akvo.notifications.drafts.html#var-handle-draft">handle-draft</a> </li><li> <a href="akvo.notifications.drafts.html#var-map-.3EDrafts">map-&gt;Drafts</a> </li><li> <a href="akvo.notifications.drafts.html#var-prepare-draft">prepare-draft</a> </li><li> <a href="akvo.notifications.drafts.html#var-publish-event">publish-event</a> </li><li> <a href="akvo.notifications.drafts.html#var-validate-draft">validate-draft</a> </li></ul></div></div><div class="namespace"><h3><a href="akvo.notifications.events.html">akvo.notifications.events</a></h3><div class="doc"><pre class="plaintext">Events.. &apos;suid&apos; = &apos;service user id&apos; e.i. external service user id</pre></div><div class="index"><p>Public variables and functions:</p><ul><li> <a href="akvo.notifications.events.html#var--.3EEvents">-&gt;Events</a> </li><li> <a href="akvo.notifications.events.html#var-base-graph">base-graph</a> </li><li> <a href="akvo.notifications.events.html#var-BaseEvent">BaseEvent</a> </li><li> <a href="akvo.notifications.events.html#var-BaseServiceEvent">BaseServiceEvent</a> </li><li> <a href="akvo.notifications.events.html#var-deep-merge">deep-merge</a> </li><li> <a href="akvo.notifications.events.html#var-end-subscription">end-subscription</a> </li><li> <a href="akvo.notifications.events.html#var-end-subscription-graph">end-subscription-graph</a> </li><li> <a href="akvo.notifications.events.html#var-events">events</a> </li><li> <a href="akvo.notifications.events.html#var-get-event">get-event</a> </li><li> <a href="akvo.notifications.events.html#var-get-event-id">get-event-id</a> </li><li> <a href="akvo.notifications.events.html#var-get-or-create-user">get-or-create-user</a> </li><li> <a href="akvo.notifications.events.html#var-graphs">graphs</a> </li><li> <a href="akvo.notifications.events.html#var-handle-event">handle-event</a> </li><li> <a href="akvo.notifications.events.html#var-map-.3EEvents">map-&gt;Events</a> </li><li> <a href="akvo.notifications.events.html#var-parse-int">parse-int</a> </li><li> <a href="akvo.notifications.events.html#var-parse-message">parse-message</a> </li><li> <a href="akvo.notifications.events.html#var-project-donation">project-donation</a> </li><li> <a href="akvo.notifications.events.html#var-project-donation-graph">project-donation-graph</a> </li><li> <a href="akvo.notifications.events.html#var-ProjectDonation">ProjectDonation</a> </li><li> <a href="akvo.notifications.events.html#var-schemas">schemas</a> </li><li> <a href="akvo.notifications.events.html#var-start-subscription">start-subscription</a> </li><li> <a href="akvo.notifications.events.html#var-start-subscription-graph">start-subscription-graph</a> </li><li> <a href="akvo.notifications.events.html#var-Subscriptions">Subscriptions</a> </li><li> <a href="akvo.notifications.events.html#var-user-notified">user-notified</a> </li><li> <a href="akvo.notifications.events.html#var-user-notified-graph">user-notified-graph</a> </li><li> <a href="akvo.notifications.events.html#var-UserNotified">UserNotified</a> </li><li> <a href="akvo.notifications.events.html#var-valid-service-name.3F">valid-service-name?</a> </li><li> <a href="akvo.notifications.events.html#var-validate-event">validate-event</a> </li></ul></div></div><div class="namespace"><h3><a href="akvo.notifications.main.html">akvo.notifications.main</a></h3><div class="doc"><pre class="plaintext">Akvo notifications is a micro service that slurps messages from
services and creates events for users.</pre></div><div class="index"><p>Public variables and functions:</p><ul><li> <a href="akvo.notifications.main.html#var--main">-main</a> </li><li> <a href="akvo.notifications.main.html#var-init">init</a> </li><li> <a href="akvo.notifications.main.html#var-options">options</a> </li><li> <a href="akvo.notifications.main.html#var-set-logging-level">set-logging-level</a> </li><li> <a href="akvo.notifications.main.html#var-start">start</a> </li><li> <a href="akvo.notifications.main.html#var-stop">stop</a> </li><li> <a href="akvo.notifications.main.html#var-system">system</a> </li></ul></div></div><div class="namespace"><h3><a href="akvo.notifications.store-mem.html">akvo.notifications.store-mem</a></h3><div class="doc"><pre class="plaintext">Memory storage</pre></div><div class="index"><p>Public variables and functions:</p><ul><li> <a href="akvo.notifications.store-mem.html#var--.3EMemStorage">-&gt;MemStorage</a> </li><li> <a href="akvo.notifications.store-mem.html#var-add-notification">add-notification</a> </li><li> <a href="akvo.notifications.store-mem.html#var-coll-nth">coll-nth</a> </li><li> <a href="akvo.notifications.store-mem.html#var-create-event">create-event</a> </li><li> <a href="akvo.notifications.store-mem.html#var-end-subscription">end-subscription</a> </li><li> <a href="akvo.notifications.store-mem.html#var-events-coll">events-coll</a> </li><li> <a href="akvo.notifications.store-mem.html#var-events-nth">events-nth</a> </li><li> <a href="akvo.notifications.store-mem.html#var-get-subscribers">get-subscribers</a> </li><li> <a href="akvo.notifications.store-mem.html#var-grab-user">grab-user</a> </li><li> <a href="akvo.notifications.store-mem.html#var-map-.3EMemStorage">map-&gt;MemStorage</a> </li><li> <a href="akvo.notifications.store-mem.html#var-new-user">new-user</a> </li><li> <a href="akvo.notifications.store-mem.html#var-project-donation">project-donation</a> </li><li> <a href="akvo.notifications.store-mem.html#var-service.21">service!</a> </li><li> <a href="akvo.notifications.store-mem.html#var-services-coll">services-coll</a> </li><li> <a href="akvo.notifications.store-mem.html#var-services-nth">services-nth</a> </li><li> <a href="akvo.notifications.store-mem.html#var-start-subscription">start-subscription</a> </li><li> <a href="akvo.notifications.store-mem.html#var-store">store</a> </li><li> <a href="akvo.notifications.store-mem.html#var-store-data">store-data</a> </li><li> <a href="akvo.notifications.store-mem.html#var-str-map-.3Eid-map">str-map-&gt;id-map</a> </li><li> <a href="akvo.notifications.store-mem.html#var-subscribe-item-to-user">subscribe-item-to-user</a> </li><li> <a href="akvo.notifications.store-mem.html#var-subscribe-user-to-item">subscribe-user-to-item</a> </li><li> <a href="akvo.notifications.store-mem.html#var-tuple-vec-.3Eemail-tuple">tuple-vec-&gt;email-tuple</a> </li><li> <a href="akvo.notifications.store-mem.html#var-tuple-vec-.3Eid-tuple">tuple-vec-&gt;id-tuple</a> </li><li> <a href="akvo.notifications.store-mem.html#var-tuple-vec-.3Ekeyword-tuple">tuple-vec-&gt;keyword-tuple</a> </li><li> <a href="akvo.notifications.store-mem.html#var-unsubscribe-item-from-user">unsubscribe-item-from-user</a> </li><li> <a href="akvo.notifications.store-mem.html#var-unsubscribe-user-from-item">unsubscribe-user-from-item</a> </li><li> <a href="akvo.notifications.store-mem.html#var-user.21">user!</a> </li><li> <a href="akvo.notifications.store-mem.html#var-user-notifed">user-notifed</a> </li><li> <a href="akvo.notifications.store-mem.html#var-users-coll">users-coll</a> </li><li> <a href="akvo.notifications.store-mem.html#var-users-nth">users-nth</a> </li></ul></div></div><div class="namespace"><h3><a href="akvo.notifications.systems.html">akvo.notifications.systems</a></h3><div class="doc"><pre class="plaintext">Describes systems that is managed via the component framework</pre></div><div class="index"><p>Public variables and functions:</p><ul><li> <a href="akvo.notifications.systems.html#var--.3EApp">-&gt;App</a> </li><li> <a href="akvo.notifications.systems.html#var-app">app</a> </li><li> <a href="akvo.notifications.systems.html#var-map-.3EApp">map-&gt;App</a> </li><li> <a href="akvo.notifications.systems.html#var-production-system">production-system</a> </li><li> <a href="akvo.notifications.systems.html#var-test-system">test-system</a> </li></ul></div></div><div class="namespace"><h3><a href="akvo.notifications.utils.html">akvo.notifications.utils</a></h3><div class="doc"><pre class="plaintext">Utility functions</pre></div><div class="index"><p>Public variables and functions:</p><ul><li> <a href="akvo.notifications.utils.html#var-build-vhost">build-vhost</a> </li><li> <a href="akvo.notifications.utils.html#var-setup-handler">setup-handler</a> </li></ul></div></div><div class="namespace"><h3><a href="akvo.notifications.web.html">akvo.notifications.web</a></h3><div class="doc"><pre class="plaintext">Web app that exposes a REST API</pre></div><div class="index"><p>Public variables and functions:</p><ul><li> <a href="akvo.notifications.web.html#var--.3EWeb">-&gt;Web</a> </li><li> <a href="akvo.notifications.web.html#var-app-routes">app-routes</a> </li><li> <a href="akvo.notifications.web.html#var-available-media-types">available-media-types</a> </li><li> <a href="akvo.notifications.web.html#var-db-backend">db-backend</a> </li><li> <a href="akvo.notifications.web.html#var-db-data">db-data</a> </li><li> <a href="akvo.notifications.web.html#var-db.3C">db&lt;</a> </li><li> <a href="akvo.notifications.web.html#var-events-coll">events-coll</a> </li><li> <a href="akvo.notifications.web.html#var-events-nth">events-nth</a> </li><li> <a href="akvo.notifications.web.html#var-get-route-id">get-route-id</a> </li><li> <a href="akvo.notifications.web.html#var-handle-malformed">handle-malformed</a> </li><li> <a href="akvo.notifications.web.html#var-handler">handler</a> </li><li> <a href="akvo.notifications.web.html#var-malformed.3F">malformed?</a> </li><li> <a href="akvo.notifications.web.html#var-map-.3EWeb">map-&gt;Web</a> </li><li> <a href="akvo.notifications.web.html#var-not-found">not-found</a> </li><li> <a href="akvo.notifications.web.html#var-processable.3F">processable?</a> </li><li> <a href="akvo.notifications.web.html#var-root">root</a> </li><li> <a href="akvo.notifications.web.html#var-root-map">root-map</a> </li><li> <a href="akvo.notifications.web.html#var-services-coll">services-coll</a> </li><li> <a href="akvo.notifications.web.html#var-services-nth">services-nth</a> </li><li> <a href="akvo.notifications.web.html#var-standard-config">standard-config</a> </li><li> <a href="akvo.notifications.web.html#var-users-coll">users-coll</a> </li><li> <a href="akvo.notifications.web.html#var-users-nth">users-nth</a> </li><li> <a href="akvo.notifications.web.html#var-web">web</a> </li></ul></div></div><div class="namespace"><h3><a href="user.html">user</a></h3><div class="doc"><pre class="plaintext"></pre></div><div class="index"><p>Public variables and functions:</p><ul><li> <a href="user.html#var-go">go</a> </li><li> <a href="user.html#var-init">init</a> </li><li> <a href="user.html#var-publish-draft">publish-draft</a> </li><li> <a href="user.html#var-reset">reset</a> </li><li> <a href="user.html#var-start">start</a> </li><li> <a href="user.html#var-stop">stop</a> </li></ul></div></div></div></body></html>